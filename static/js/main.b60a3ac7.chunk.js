(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{136:function(e,t,n){e.exports=n.p+"static/media/user.7de5e5f7.svg"},137:function(e,t,n){e.exports=n.p+"static/media/users.08be9bce.svg"},138:function(e,t,n){e.exports=n.p+"static/media/dialog.27d2bb2e.svg"},139:function(e,t,n){e.exports=n.p+"static/media/logout.4a8937d8.svg"},140:function(e,t,n){e.exports=n.p+"static/media/preloader.35d5736d.gif"},141:function(e,t,n){e.exports={profCont:"profile_profCont__3DNeE"}},142:function(e,t,n){e.exports=n.p+"static/media/my_ava.b07ea12e.jpg"},17:function(e,t,n){e.exports={user:"profileInfo_user__2oG7Q",user__nameBlock:"profileInfo_user__nameBlock__3wmp0",user__nameBlock__name:"profileInfo_user__nameBlock__name__2JjoH",user__photoBlock:"profileInfo_user__photoBlock__2qTYd",user__photoBlock__photo:"profileInfo_user__photoBlock__photo__9TVAa",user__photoBlock__changePhoto:"profileInfo_user__photoBlock__changePhoto__K1L48",inputAddPhoto:"profileInfo_inputAddPhoto__3aVJs",user__info:"profileInfo_user__info__6D54m",input:"profileInfo_input__3Fe4G",statusBlock:"profileInfo_statusBlock__2R-qi",statusBlock__changeStatus:"profileInfo_statusBlock__changeStatus__SKstG",statusBlock__status:"profileInfo_statusBlock__status__1g2Z6"}},172:function(e,t,n){e.exports=n(298)},175:function(e,t,n){},21:function(e,t,n){e.exports={pageS:"users_pageS__2Rs22",page:"users_page__h1cAq",pageSwitch:"users_pageSwitch__3oIdd",changePage:"users_changePage__3M_kF",usersPage:"users_usersPage__2GpcK",totalPage:"users_totalPage__37Rmw",usersBlock:"users_usersBlock__YZTb0",user:"users_user__qh56n"}},298:function(e,t,n){"use strict";n.r(t);n(173),n(175),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(6),r=n(45),o=n(4),c=n(299),l={newMessage:"",dialogsData:[{dialogsId:Object(c.a)(),name:"Miroliub"},{dialogsId:Object(c.a)(),name:"Ratibor"},{dialogsId:Object(c.a)(),name:"Inokentii`"},{dialogsId:Object(c.a)(),name:"Iziaslav"},{dialogsId:Object(c.a)(),name:"Iziaslav"}],messagesData:[{messageId:Object(c.a)(),message:"Hi"},{messageId:Object(c.a)(),message:"My parents gave me a very difficult name"},{messageId:Object(c.a)(),message:"True?)"}]},s=n(7),i=n.n(s),u=n(12),p=n(132),m=n.n(p).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"7356db4d-2dd5-4272-8da5-db03322fb687"}}),f=function(e,t){return m.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},d=function(e){return m.delete("follow/".concat(e)).then((function(e){return e.data}))},g=function(e){return m.post("follow/".concat(e)).then((function(e){return e.data}))},b=function(){return m.get("auth/me").then((function(e){return e.data}))},h=function(e,t,n){return m.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},E=function(){return m.delete("auth/login").then((function(e){return e.data}))},_=function(e){return m.get("profile/"+e).then((function(e){return e.data}))},v=function(e){return m.get("profile/status/"+e).then((function(e){return e.data}))},O=function(e){return m.put("profile/status",e).then((function(e){return e.data}))},j=function(e){return m.put("profile",e).then((function(e){return e.data}))},P=function(e){var t=new FormData;return t.append("image",e),m.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e}))},w={newPost:"",postData:[{idPost:"1",post:"It`s my first post"},{idPost:"2",post:"I don`t have coronavirus"},{idPost:"3",post:"React it is a power\ud83d\ude80"}],profile:null,profileStatus:""},k=function(e){return{type:"SET_USER_PROFILE",profile:e}},S=function(e){return{type:"SET_PROFILE_STATUS",profileStatus:e}},y=function(e){return{type:"SET_PHOTO_PROFILE",photoProfile:e}},x=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:a=t.sent,n(k(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(o.a)(Object(o.a)({},e),a):e}))},I={items:[],pageSize:8,totalCount:0,currentPage:1,isFetching:!1,isFinished:[]},N=function(e){return{type:"FOLLOW",userID:e}},F=function(e){return{type:"UNFOLLOW",userID:e}},T=function(e){return{type:"SET_IS_FETCH",isFetch:e}},U=function(e,t){return{type:"SET_FOLLOWING_PROGRESS",isFetch:e,userId:t}},D=function(){var e=Object(u.a)(i.a.mark((function e(t,n,a,r){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(U(!0,n)),e.next=3,a;case 3:o=e.sent,t(U(!1,n)),0===o.resultCode&&t(r(n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),B=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:D(n,e,d(e),F);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:D(n,e,g(e),N);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},R=n(38),L={id:null,login:null,email:null,isAuth:!1},M=function(e,t,n,a){return{type:"SET_USER_DATA",data:{id:e,login:t,email:n,isAuth:a}}},G=function(){return function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:0===(n=e.sent).resultCode&&(a=n.data,r=a.id,o=a.login,c=a.email,t(M(r,o,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},W=n(133),z=n(131),H={initialized:!1},J=Object(a.c)({dialogPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":var n={messageId:Object(c.a)(),message:t.newMessageText};return Object(o.a)(Object(o.a)({},e),{},{messagesData:[].concat(Object(r.a)(e.messagesData),[n])});default:return e}},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={idPost:Object(c.a)(),post:t.post};return Object(o.a)(Object(o.a)({},e),{},{postData:[n].concat(Object(r.a)(e.postData))});case"SET_USER_PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case"SET_PROFILE_STATUS":return Object(o.a)(Object(o.a)({},e),{},{profileStatus:t.profileStatus});case"SET_PHOTO_PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:e.profile?Object(o.a)(Object(o.a)({},e.profile),{},{photos:t.photoProfile}):null});case"DELETE_POST":return Object(o.a)(Object(o.a)({},e),{},{postData:e.postData.filter((function(e){return e.idPost!==t.postId}))});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(o.a)(Object(o.a)({},e),{},{items:C(e.items,t.userID,"id",{followed:!0})});case"UNFOLLOW":return Object(o.a)(Object(o.a)({},e),{},{items:C(e.items,t.userID,"id",{followed:!1})});case"SET_USERS":return Object(o.a)(Object(o.a)({},e),{},{items:t.items});case"SET_CURRENT_PAGE":return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case"SET_USERS_COUNT":return Object(o.a)(Object(o.a)({},e),{},{totalCount:t.totalCount});case"SET_IS_FETCH":return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetch});case"SET_FOLLOWING_PROGRESS":return Object(o.a)(Object(o.a)({},e),{},{isFinished:t.isFetch?[].concat(Object(r.a)(e.isFinished),[t.userId]):e.isFinished.filter((function(e){return e!==t.userId}))});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(o.a)(Object(o.a)({},e),t.data);default:return e}},form:z.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCEED":return Object(o.a)(Object(o.a)({},e),{},{initialized:!0});default:return e}}}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,Y=Object(a.e)(J,K(Object(a.a)(W.a)));window.store=Y;var V=n(69),q=n.n(V),Z=n(39),Q=n(40),X=n(46),$=n(44),ee=n(0),te=n.n(ee),ne=n(36),ae=n.n(ne),re=n(32),oe=n.n(re),ce=n(11),le=n(14),se=n(8),ie=n(136),ue=n.n(ie),pe=n(137),me=n.n(pe),fe=n(138),de=n.n(fe),ge=n(139),be=n.n(ge);function he(){var e=Object(se.d)((function(e){return e.data.id})),t=Object(se.d)((function(e){var t;return null===(t=e.profilePage.profile)||void 0===t?void 0:t.userId})),n=Object(se.d)((function(e){return e.data.isAuth})),a=Object(ce.f)(),r=Object(se.c)();return te.a.createElement("div",{className:oe.a.nav},te.a.createElement("div",null,te.a.createElement(le.b,{activeClassName:e===t?oe.a.activeHover:"",className:oe.a.activeClick,to:"/ReactGotlibbbWay/profile"},te.a.createElement("img",{src:ue.a,alt:"user"}),"My profile")),te.a.createElement("div",null,te.a.createElement(le.b,{activeClassName:oe.a.activeHover,className:oe.a.activeClick,to:"/ReactGotlibbbWay/dialogs"},te.a.createElement("img",{src:de.a,alt:"user"}),"Dialogs")),te.a.createElement("div",null,te.a.createElement(le.b,{activeClassName:oe.a.activeHover,className:oe.a.activeClick,to:"/ReactGotlibbbWay/users"},te.a.createElement("img",{src:me.a,alt:"user"}),"Users")),n&&te.a.createElement("a",{style:{justifySelf:"end"},onClick:function(){r(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:0===e.sent.resultCode&&t(M(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.push("/ReactGotlibbbWay/login")}},te.a.createElement("img",{style:{paddingLeft:"5px"},src:be.a,alt:"logout"}),"Log out"))}var Ee=n(140),_e=n.n(Ee),ve=function(){return te.a.createElement("div",{style:{position:"absolute",top:"40%",left:"35%"}},te.a.createElement("img",{src:_e.a,alt:"preloader",style:{width:"500px"}}))},Oe=n(13),je=n(141),Pe=n.n(je),we=n(72),ke=n.n(we),Se=n(17),ye=n.n(Se),xe=te.a.memo((function(e){var t=Object(ee.useState)(!1),n=Object(Oe.a)(t,2),a=n[0],r=n[1],o=Object(ee.useState)(""),c=Object(Oe.a)(o,2),l=c[0],s=c[1],i=Object(se.c)();Object(ee.useEffect)((function(){s(e.profileStatus)}),[e.profileStatus]);var u=function(){i(S(l||"")),e.updateProfileStatus({status:l}),r(!1)};return te.a.createElement("div",{className:ye.a.statusBlock},a&&!e.currentUserId?te.a.createElement("div",{className:ye.a.statusBlock__changeStatus},te.a.createElement("input",{className:ye.a.input,onChange:function(e){s(e.currentTarget.value)},autoFocus:!0,placeholder:"Fix it",onKeyPress:function(e){"Enter"===e.key&&u()},value:null===l||""===l?"":l}),te.a.createElement("button",{onClick:u},"\u21b2"),te.a.createElement("button",{onClick:function(){s(e.profileStatus),r(!1)}},"\u0425")):te.a.createElement("div",{className:ye.a.statusBlock__status,onDoubleClick:function(){return r(!0)}}," ",te.a.createElement("span",null,null===l||""===l?te.a.createElement("div",null,te.a.createElement("span",null," User has`t status.")):l)))})),Ce=te.a.memo((function(e){var t=e.user&&e.user.id||0;return te.a.createElement("div",null,e.user&&e.user.followed?te.a.createElement("button",{disabled:e.isFinished.some((function(e){return e===t})),onClick:function(){e.getUnFollow(t)}},"Unfollow"):te.a.createElement("button",{disabled:e.isFinished.some((function(e){return e===t})),onClick:function(){e.getFollow(t)}},"Follow"))}));var Ie=te.a.memo((function(e){var t=Object(ce.f)();if(!e.profile)return te.a.createElement(ve,null);var n=e.profile.photos&&(e.profile.photos.large||ke.a),a=e.usersPage.find((function(t){return t.id===e.currentUserId})),r=function(t){return e.profile&&e.profile.contacts?te.a.createElement("a",{href:e.profile.contacts[t]},e.profile.contacts[t]):"information not found..."};return te.a.createElement("div",null,te.a.createElement("div",{className:ye.a.user},te.a.createElement("div",{className:ye.a.user__photoBlock},te.a.createElement("img",{className:ye.a.user__photoBlock__photo,src:n,alt:"imgAny"}),!e.currentUserId&&te.a.createElement("label",{className:ye.a.user__photoBlock__changePhoto},"\u2795",te.a.createElement("input",{type:"file",className:ye.a.inputAddPhoto,onChange:function(t){return function(t){e.savePhotoProfile(t)}(t.target.files[0])}}))||te.a.createElement(te.a.Fragment,null,te.a.createElement(Ce,{getUnFollow:e.getUnFollow,getFollow:e.getFollow,user:a,isFinished:e.isFinished}),te.a.createElement("button",{onClick:t.goBack},"\u21a2 go back"))),te.a.createElement("div",null,te.a.createElement("div",{className:ye.a.user__nameBlock},te.a.createElement("span",{className:ye.a.user__nameBlock__name},e.profile.fullName),te.a.createElement(xe,{profileStatus:e.profileStatus,currentUserId:e.currentUserId,updateProfileStatus:e.updateProfileStatus})),te.a.createElement("div",{className:ye.a.user__info},te.a.createElement("div",null,te.a.createElement("b",null,"Open for interviews: "),e.profile.lookingForAJob?"Yes":"No"),te.a.createElement("div",null,te.a.createElement("b",null,"Github : "),r("github")),te.a.createElement("div",null,te.a.createElement("b",null,"Twitter : "),r("twitter")),te.a.createElement("div",null,te.a.createElement("b",null,"Instagram : "),r("instagram")),te.a.createElement("div",null,te.a.createElement("b",null,"Facebook : "),r("facebook")),te.a.createElement("div",null,te.a.createElement("b",null,"Vk : "),r("vk")),te.a.createElement("div",null,te.a.createElement("b",null,"About me : "),e.profile.aboutMe||"information not found..."),te.a.createElement("div",null,te.a.createElement("b",null,"Job description : "),e.profile.lookingForAJobDescription||"information not found...")),!e.currentUserId&&te.a.createElement("button",{onClick:function(){return e.showModal&&e.showModal(!0)}},"Change info"))))})),Ne=n(75),Fe=n.n(Ne),Te=n(142),Ue=n.n(Te);var De=te.a.memo((function(e){return te.a.createElement("div",null,te.a.createElement("div",{className:Fe.a.newPost},te.a.createElement("img",{className:Fe.a.userPhoto,src:Ue.a,alt:""}),te.a.createElement("span",{className:Fe.a.post},e.post),te.a.createElement("button",{style:{marginLeft:"10px"},onClick:function(){return e.deletePost(e.idPost)}},"x")))})),Be=n(48),Ae=n.n(Be),Re=n(130),Le=n(129),Me=n(74),Ge=n(47),We=n.n(Ge),ze=function(e){var t=e.input,n=e.meta,a=e.el,r=Object(Me.a)(e,["input","meta","el"]),c=n.touched&&n.error;return te.a.createElement("div",{className:We.a.formControl+" "+(c?We.a.error:" ")},te.a.createElement("div",null,te.a.createElement(a,Object(o.a)(Object(o.a)({},t),r))),c&&te.a.createElement("span",null,n.error))},He=function(e){return te.a.createElement(ze,Object.assign({},e,{el:"textarea"}))},Je=function(e){return te.a.createElement(ze,Object.assign({},e,{el:"input"}))};var Ke=Object(Re.a)({form:"addPost"})((function(e){return te.a.createElement("form",{onSubmit:e.handleSubmit,onKeyPress:function(t){return n=t.key,a=e.handleSubmit,"Enter"===n&&a();var n,a}},te.a.createElement("div",{className:Ae.a.textareaBlock},te.a.createElement(Le.a,{className:Ae.a.textarea,component:He,placeholder:"Write a post...",name:"postText"}),te.a.createElement("button",{className:Ae.a.btnSend},"Add post")))})),Ye=te.a.memo((function(e){var t=Object(se.c)(),n=function(e){t({type:"DELETE_POST",postId:e})},a=e.postDataEl.map((function(e,t){return te.a.createElement(De,{idPost:e.idPost,post:e.post,key:t,deletePost:n})}));return te.a.createElement("div",{className:Ae.a.posts},te.a.createElement(Ke,{onSubmit:function(t){e.addPost(t.postText),t.postText=""}}),te.a.createElement("div",{className:Ae.a.postsBlock},a))}));var Ve=Object(a.d)(Object(se.b)((function(e){return{postDataEl:e.profilePage.postData,newPost:e.profilePage.newPost}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",post:e}}(t))}}})),te.a.memo)(Ye),qe=n(58),Ze=n(59);function Qe(){var e=Object(qe.a)(["\n  width: 80%;\n  display: flex;\n  justify-content: space-between;\n  padding: 30px 0;\n\n  button {\n    font-size: 25px;\n  }\n\n"]);return Qe=function(){return e},e}function Xe(){var e=Object(qe.a)(['\n  font-size: 1.5rem;\n  display: flex;\n  width: 80%;\n  justify-content: space-between;\n  align-content: center;\n  margin-top: 15px;\n\n  label {\n    display: flex;\n    align-content: center;\n  }\n\n  input {\n    width: 300px;\n    padding: 3px 10px;\n    font-size: 1.5rem;\n    border-radius: 1rem;\n    outline: none;\n  }\n\n  input[type="checkbox"] {\n    width: 25px;\n    height: 25px;\n    margin-bottom: 15px;\n  }\n\n  textarea {\n    padding: 3px 10px;\n    border-width: 2px;\n    font-size: 1.5rem;\n    border-radius: 1rem;\n    outline: none;\n    height: 150px;\n    width: 300px;\n  }\n\n  span {\n    margin-left: 15px;\n  }\n']);return Xe=function(){return e},e}function $e(){var e=Object(qe.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding-top: 15px;\n  min-height: 500px;\n  background: white;\n  border-radius: 10px;\n  width: 608px;\n  background: linear-gradient(to right bottom, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.5));\n  backdrop-filter: blur(2rem);\n  animation: show-modal 0.3s forwards;\n\n  @keyframes show-modal {\n    0% {\n      opacity: 0;\n      transform: translateY(-50px);\n    }\n    100% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n"]);return $e=function(){return e},e}function et(){var e=Object(qe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  border-radius: 2rem;\n  background-color: rgba(0, 0, 0, 0.1);\n\n"]);return et=function(){return e},e}var tt=Ze.a.div(et()),nt=Ze.a.div($e()),at=Ze.a.div(Xe()),rt=Ze.a.div(Qe());function ot(e){var t,n=function(t){return e.profileInfo?e.profileInfo[t]:""},a=function(t){return e.profileInfo&&e.profileInfo.contacts?e.profileInfo.contacts[t]:""},r=Object(ee.useState)(n("fullName")||""),o=Object(Oe.a)(r,2),c=o[0],l=o[1],s=Object(ee.useState)(a("github")||""),i=Object(Oe.a)(s,2),u=i[0],p=i[1],m=Object(ee.useState)(a("twitter")||""),f=Object(Oe.a)(m,2),d=f[0],g=f[1],b=Object(ee.useState)(a("instagram")||""),h=Object(Oe.a)(b,2),E=h[0],_=h[1],v=Object(ee.useState)(a("facebook")||""),O=Object(Oe.a)(v,2),j=O[0],P=O[1],w=Object(ee.useState)(a("vk")||""),k=Object(Oe.a)(w,2),S=k[0],y=k[1],x=Object(ee.useState)(n("aboutMe")||""),C=Object(Oe.a)(x,2),I=C[0],N=C[1],F=Object(ee.useState)(n("lookingForAJobDescription")||""),T=Object(Oe.a)(F,2),U=T[0],D=T[1],B=Object(ee.useState)((t="lookingForAJob",!!e.profileInfo&&e.profileInfo[t])),A=Object(Oe.a)(B,2),R=A[0],L=A[1];return te.a.createElement(tt,null,te.a.createElement(nt,null,te.a.createElement(at,null,te.a.createElement("label",null," ",te.a.createElement("input",{type:"text",placeholder:"name",value:c,onChange:function(e){return l(e.currentTarget.value)}})," ",te.a.createElement("span",null,"- Name"))),te.a.createElement(at,null,te.a.createElement("label",null," ",te.a.createElement("input",{type:"text",placeholder:"github",value:u,onChange:function(e){return p(e.currentTarget.value)}})," ",te.a.createElement("span",null,"- Github"))),te.a.createElement(at,null,te.a.createElement("label",null," ",te.a.createElement("input",{type:"text",placeholder:"twitter",value:d,onChange:function(e){return g(e.currentTarget.value)}})," ",te.a.createElement("span",null,"- Twitter"))),te.a.createElement(at,null,te.a.createElement("label",null," ",te.a.createElement("input",{type:"text",placeholder:"instagram",value:E,onChange:function(e){return _(e.currentTarget.value)}}),te.a.createElement("span",null,"- Instagram"))),te.a.createElement(at,null,te.a.createElement("label",null," ",te.a.createElement("input",{type:"text",placeholder:"facebook",value:j,onChange:function(e){return P(e.currentTarget.value)}}),te.a.createElement("span",null,"- Facebook"))),te.a.createElement(at,null,te.a.createElement("label",null," ",te.a.createElement("input",{type:"text",placeholder:"vk",value:S,onChange:function(e){return y(e.currentTarget.value)}})," ",te.a.createElement("span",null,"- VK"))),te.a.createElement(at,null,te.a.createElement("label",null," ",te.a.createElement("textarea",{placeholder:"about me",value:I,onChange:function(e){return N(e.currentTarget.value)}}),te.a.createElement("span",null,"- About me "))),te.a.createElement(at,null,te.a.createElement("label",null," ",te.a.createElement("input",{type:"text",placeholder:"job description",value:U,onChange:function(e){return D(e.currentTarget.value)}}),te.a.createElement("span",null,"- Description "))),te.a.createElement(at,null,te.a.createElement("label",null," ",te.a.createElement("input",{type:"checkbox",checked:R,onChange:function(e){return L(e.currentTarget.checked)}})," ",te.a.createElement("span",null,"- Open for interviews"))),te.a.createElement(rt,null,te.a.createElement("button",{onClick:function(){return e.showModal(!1)}},"Cancel"),te.a.createElement("button",{onClick:function(){e.updateProfileInfo({contacts:{mainLink:null,website:null,youtube:null,vk:S,github:u,facebook:j,instagram:E,twitter:d},fullName:c,aboutMe:I,lookingForAJob:R,lookingForAJobDescription:U}),e.showModal(!1)}},"Apply changes"))))}var ct=te.a.memo((function(e){var t=Object(ee.useState)(!1),n=Object(Oe.a)(t,2),a=n[0],r=n[1];return te.a.createElement("div",{className:Pe.a.profCont},te.a.createElement(Ie,Object.assign({},e,{showModal:r})),e.profile&&!e.currentUserId&&te.a.createElement(Ve,null),!e.currentUserId&&a&&te.a.createElement(ot,{updateProfileInfo:e.updateProfileInfo,profileInfo:e.profile,showModal:r}))})),lt=function(e){return{isAuth:e.data.isAuth}},st=function(e){return Object(se.b)(lt)((function(t){return t.isAuth?te.a.createElement(e,t):te.a.createElement(ce.a,{to:"/ReactGotlibbbWay/login"})}))},it=function(e){return e.profilePage.profile},ut=function(e){return e.profilePage.profileStatus},pt=function(e){return e.data.id},mt=function(e){return e.usersPage.items},ft=function(e){return e.usersPage.pageSize},dt=function(e){return e.usersPage.totalCount},gt=function(e){return e.usersPage.currentPage},bt=function(e){return e.usersPage.isFetching},ht=function(e){return e.usersPage.isFinished},Et=function(e){Object(X.a)(n,e);var t=Object($.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(Q.a)(n,[{key:"refreshUser",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authId)||this.props.history.push("/ReactGotlibbbWay/login"),this.props.getProfile(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshUser()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&(this.props.setUserProfile(null),this.refreshUser())}},{key:"componentWillUnmount",value:function(){this.props.setUserProfile(null)}},{key:"render",value:function(){return te.a.createElement(ct,Object.assign({},this.props,{currentUserId:Number(this.props.match.params.userId)}))}}]),n}(te.a.Component),_t=Object(a.d)(Object(se.b)((function(e){return{profile:it(e),profileStatus:ut(e),authId:pt(e),usersPage:mt(e),isFinished:ht(e)}}),{savePhotoProfile:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e);case 2:0===(a=t.sent).data.resultCode&&(console.log(a.data.data),n(y(a.data.data.photos)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUserProfile:k,getProfile:x,getProfileStatus:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:a=t.sent,n(S(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfileStatus:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e);case 2:0===(a=t.sent).data.resultCode&&n(S(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfileInfo:function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n,a){var r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().data.id,t.next=3,j(e);case 3:o=t.sent,console.log(o),0===o.resultCode&&n(x(r));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},getUnFollow:B,getFollow:A}),te.a.memo,st,ce.g)(Et),vt=function(e){return e.data.isAuth},Ot=Object(Re.a)({form:"login"})((function(e){return te.a.createElement("form",{onSubmit:e.handleSubmit,className:We.a.loginBlock},te.a.createElement("h1",null,"Welcome"),te.a.createElement("p",null,"For test purpose login: free@samuraijs.com and password: free"),te.a.createElement("div",null,te.a.createElement(Le.a,{component:Je,placeholder:"Email",name:"email"})),te.a.createElement("div",null,te.a.createElement(Le.a,{component:Je,placeholder:"Password",name:"password",type:"password"})),te.a.createElement("div",null,te.a.createElement("button",null,"Login")),e.error&&te.a.createElement("div",{className:We.a.authError},e.error))})),jt=Object(a.d)(Object(se.b)((function(e){return{isAuth:vt(e)}}),{login:function(e,t,n){return function(){var a=Object(u.a)(i.a.mark((function a(r){var o;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h(e,t,n);case 2:0===(o=a.sent).resultCode?r(G()):r(Object(R.a)("login",{_error:o.messages}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}),te.a.memo)((function(e){if(e.isAuth)return te.a.createElement(ce.a,{to:"/ReactGotlibbbWay/profile"});return te.a.createElement("div",null,te.a.createElement(Ot,{onSubmit:function(t){console.log(t),e.login(t.email,t.password,t.rememberMe)}}))})),Pt=n(31),wt=n.n(Pt);var kt=te.a.memo((function(e){return te.a.createElement("div",{className:wt.a.name},te.a.createElement(le.b,{to:"/Dialogs/"+e.dialogsId},e.name))}));var St=te.a.memo((function(e){return te.a.createElement("div",{className:wt.a.message},e.message)}));var yt=Object(Re.a)({form:"message form"})((function(e){return te.a.createElement("form",{onSubmit:e.handleSubmit},te.a.createElement("div",null,te.a.createElement(Le.a,{component:He,placeholder:"enter your message",name:"newMessageBody"}),te.a.createElement("button",null,"Send")))})),xt=function(e){return e.dialogPage.messagesData},Ct=function(e){return e.dialogPage.dialogsData},It=function(e){return e.dialogPage.newMessage};var Nt=Object(a.d)(Object(se.b)((function(e){return{messagesData:xt(e),dialogsData:Ct(e),newMessage:It(e)}}),(function(e){return{addMessages:function(t){e({type:"ADD-MESSAGE",newMessageText:t})}}})),st)((function(e){var t=e.dialogsData.map((function(e,t){return te.a.createElement(kt,{dialogsId:e.dialogsId,name:e.name,key:t})})),n=e.messagesData.map((function(e,t){return te.a.createElement(St,{messageId:e.messageId,message:e.message,key:t})}));return e.isAuth?te.a.createElement("div",{className:wt.a.Dialogs},te.a.createElement("div",{className:wt.a.dialogsNames},t),te.a.createElement("div",{className:wt.a.Messages},n,te.a.createElement(yt,{onSubmit:function(t){e.addMessages(t.newMessageBody)}}))):te.a.createElement(ce.a,{to:"/Login"})})),Ft=n(21),Tt=n.n(Ft),Ut=te.a.memo((function(e){for(var t=Object(ee.useState)(" "),n=Object(Oe.a)(t,2),a=n[0],r=n[1],o=Math.ceil(e.totalUsersCount/e.pageSize),c=[],l=0;l<=o;l++)c.push(l);if(o>=10){var s=Number(a)>=c.length||Number(a)<=0,i=e.currentPage+1>=c.length||e.currentPage<=0;return te.a.createElement("div",{className:Tt.a.pageS},te.a.createElement("div",{className:Tt.a.pageSwitch},1!==e.currentPage&&te.a.createElement("button",{onClick:function(){e.onPageChanged(c[e.currentPage-1]),r(" ")}},"\u21d0...prev page "),te.a.createElement("div",null," ",e.currentPage," "),te.a.createElement("button",{disabled:i,onClick:function(){e.onPageChanged(c[e.currentPage+1]),r(" ")}}," next page...\u21d2")),te.a.createElement("div",{className:Tt.a.changePage},te.a.createElement("span",null,"Change page: "),te.a.createElement("input",{type:"number",value:a,onChange:function(e){return r(e.currentTarget.value)},onKeyPress:function(t){"Enter"!==t.key||s||e.onPageChanged(Number(a))}}),te.a.createElement("button",{onClick:function(){e.onPageChanged(Number(a))},disabled:s},"\u21aa")),te.a.createElement("span",{className:Tt.a.totalPage},"Total pages: ",c.length-1))}return te.a.createElement("div",{className:Tt.a.pageS},0===e.currentPage&&c.map((function(t){return te.a.createElement("span",{onClick:function(){e.onPageChanged(t)},className:e.currentPage===t?Tt.a.selectedPage:Tt.a.page},t)})))}));function Dt(e){var t=e.user,n=Object(Me.a)(e,["user"]);return te.a.createElement("div",{key:t.id,className:Tt.a.user},te.a.createElement(le.b,{to:"/ReactGotlibbbWay/profile/"+t.id},te.a.createElement("div",null,t.name),te.a.createElement("img",{src:t.photos.small||ke.a,alt:""})),te.a.createElement(Ce,{getUnFollow:n.getUnFollow,getFollow:n.getFollow,user:t,isFinished:n.isFinished}))}function Bt(e){return te.a.createElement("div",{className:Tt.a.usersPage},e.isFetching?te.a.createElement(ve,null):te.a.createElement(te.a.Fragment,null,te.a.createElement(Ut,{totalUsersCount:e.totalUsersCount,currentPage:e.currentPage,onPageChanged:e.onPageChanged,pageSize:e.pageSize}),te.a.createElement("div",{className:Tt.a.usersBlock},e.usersPage.map((function(t){return te.a.createElement(Dt,{user:t,getUnFollow:e.getUnFollow,getFollow:e.getFollow,isFinished:e.isFinished})})))))}var At=function(e){Object(X.a)(n,e);var t=Object($.a)(n);function n(){var e;Object(Z.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.getUsers(t,e.props.pageSize)},e}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){console.log("render");for(var e=Math.ceil(this.props.totalUsersCount/this.props.pageSize),t=[],n=1;n<=e;n++)t.push(n);return te.a.createElement(te.a.Fragment,null,te.a.createElement(Bt,Object.assign({onPageChanged:this.onPageChanged},this.props)))}}]),n}(te.a.PureComponent);var Rt=Object(a.d)(Object(se.b)((function(e){return{usersPage:mt(e),pageSize:ft(e),totalUsersCount:dt(e),currentPage:gt(e),isFetching:bt(e),isFinished:ht(e)}}),{setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},getUnFollow:B,getFollow:A,getUsers:function(e,t){return function(){var n=Object(u.a)(i.a.mark((function n(a){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(T(!0)),n.next=3,f(e,t);case 3:r=n.sent,a(T(!1)),a({type:"SET_USERS",items:r.items}),a({type:"SET_USERS_COUNT",totalCount:r.totalCount});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),te.a.memo)(At),Lt=te.a.memo((function(){return te.a.createElement(te.a.Fragment,null,te.a.createElement(ce.b,{path:"/ReactGotlibbbWay/profile/:userId?",us:!0,render:function(){return te.a.createElement(_t,null)}}),te.a.createElement(ce.b,{path:"/ReactGotlibbbWay/login",render:function(){return te.a.createElement(jt,null)}}),te.a.createElement(ce.b,{path:"/ReactGotlibbbWay/dialogs",render:function(){return te.a.createElement(Nt,null)}}),te.a.createElement(ce.b,{path:"/ReactGotlibbbWay/users",render:function(){return te.a.createElement(Rt,null)}}))})),Mt=function(e){Object(X.a)(n,e);var t=Object($.a)(n);function n(){return Object(Z.a)(this,n),t.apply(this,arguments)}return Object(Q.a)(n,[{key:"componentDidMount",value:function(){this.props.initialize()}},{key:"render",value:function(){return this.props.initialized?te.a.createElement("div",{className:ae.a.appContainer},te.a.createElement("div",{className:ae.a.circle1}," "),te.a.createElement("div",{className:ae.a.circle2}," "),te.a.createElement("div",{className:ae.a.appBlock},te.a.createElement("div",{className:ae.a.navbar},te.a.createElement(he,null)),te.a.createElement("div",{className:ae.a.content},te.a.createElement(Lt,null)))):te.a.createElement(ve,null)}}]),n}(te.a.Component),Gt=Object(a.d)(Object(se.b)((function(e){return{initialized:e.app.initialized}}),{initialize:function(){return function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(G());case 2:return e.next=4,t({type:"INITIALIZED_SUCCEED"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),te.a.memo)(Mt);q.a.render(te.a.createElement(se.a,{store:Y},te.a.createElement(le.a,null,te.a.createElement(Gt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,n){e.exports={Dialogs:"dialogs_Dialogs__2ghCp",dialogsNames:"dialogs_dialogsNames__QfNnY",active:"dialogs_active__mIKUF",Messages:"dialogs_Messages__1g32C",communicationBlock:"dialogs_communicationBlock__1xBEO",textarea:"dialogs_textarea__8Nb7A",btnadd:"dialogs_btnadd__1HzsL"}},32:function(e,t,n){e.exports={nav:"navbar_nav__bAire",activeHover:"navbar_activeHover__3BgU_"}},36:function(e,t,n){e.exports={appContainer:"app_appContainer__jAaEk",circle1:"app_circle1__2-LhB",circle2:"app_circle2__2LcO1",appBlock:"app_appBlock__2QBn9",content:"app_content__A9kKb",navbar:"app_navbar__15VAa"}},47:function(e,t,n){e.exports={loginBlock:"formControl_loginBlock__DuFCq",formControl:"formControl_formControl__3IOTW",error:"formControl_error__2ko6l",authError:"formControl_authError__N-mvc"}},48:function(e,t,n){e.exports={posts:"Posts_posts__1m3bO",title:"Posts_title__1Nuiw",btnSend:"Posts_btnSend__PisfH",textarea:"Posts_textarea__3yNTT",textareaBlock:"Posts_textareaBlock__3YWpo",postsBlock:"Posts_postsBlock__3l8Lw"}},72:function(e,t,n){e.exports=n.p+"static/media/no_ava.6c9609f2.png"},75:function(e,t,n){e.exports={userPhoto:"newPosts_userPhoto__2seCu",newPost:"newPosts_newPost__3ziVk",post:"newPosts_post___suLd",postLike:"newPosts_postLike__3HXvr"}}},[[172,1,2]]]);
//# sourceMappingURL=main.b60a3ac7.chunk.js.map